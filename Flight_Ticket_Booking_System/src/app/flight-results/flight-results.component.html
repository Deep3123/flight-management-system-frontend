<div class="flight-search-container">
    <!-- Flight route header -->
    <div class="route-header">
        <div class="route-info">
            <div class="route-path">
                <span class="departure">{{ flightResults[0]?.departureAirport }}</span>
                <span class="route-arrow"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                        width="24px" fill="#1f1f1f">
                        <path
                            d="m397-115-99-184-184-99 71-70 145 25 102-102-317-135 84-86 385 68 124-124q23-23 57-23t57 23q23 23 23 56.5T822-709L697-584l68 384-85 85-136-317-102 102 26 144-71 71Z" />
                    </svg></span>
                <span class="arrival">{{ flightResults[0]?.arrivalAirport }}</span>
            </div>
            <div class="trip-details">
                <span>Return</span> • <span>{{count}} </span><span *ngIf="count==1">passenger</span><span
                    *ngIf="count>1">passengers</span>
                <a class="link" routerLink="/flight-booking">Change search</a>
            </div>
        </div>

        <!-- <div class="price-summary">
            <button class="summary-button">
                View summary
                <i class="fas fa-chevron-down"></i>
            </button>
        </div> -->
    </div>

    <!-- Page title section -->
    <div class="page-header">
        <div>
            <h1 class="page-title">Choose your outbound flight</h1>
            <p class="page-small-title">{{ flightResults[0]?.departureAirport}} to {{flightResults[0]?.arrivalAirport}}
            </p>
        </div>
        <div>
            <div class="price-info">
                <div class="price-label">Lowest total price for <span>{{count}}</span><span *ngIf="count==1"> passenger
                    </span><span *ngIf="count>1"> passengers </span> <span class="currency-type">INR</span> <span
                        class="total-price"> {{ getLowestPrice() }}</span></div>
                <!-- <div class="total-price">
                ₹{{ getLowestPrice() }}
            </div> -->
                <div class="price-details">Inclusive of airfare, taxes, fees and carrier imposed charges</div>
                <!-- <div class="currency-selector">
                <button class="currency-button">
                    Change currency
                    <i class="fas fa-chevron-down"></i>
                </button>
            </div> -->
            </div>
        </div>
    </div>

    <!-- Flight result cards -->
    <div class="flight-results">
        <div class="flight-card" *ngFor="let flight of flightResults; let i = index; trackBy: trackByFn">
            <div class="flight-details">
                <div class="times-route">
                    <div class="departure-details">
                        <div class="time">{{ flight.departureTime }}</div>
                        <div class="airport-code">{{ flight.departureAirport }}</div>
                        <div class="airport-name">{{ getAirportName(flight.departureAirport) }}</div>
                    </div>

                    <div class="flight-duration">
                        <div class="duration-text">{{ formatDuration(flight.durationMinutes) }}</div>
                        <div class="route-line">
                            <div class="line"></div>
                        </div>
                        <div class="connection-info" *ngIf="flight.connection">
                            Connects in {{ flight.connection }}
                        </div>
                    </div>

                    <div class="arrival-details">
                        <div class="time">{{ flight.arrivalTime }}</div>
                        <div class="airport-code">{{ flight.arrivalAirport }}</div>
                        <div class="airport-name">{{ getAirportName(flight.arrivalAirport) }}</div>
                    </div>
                </div>

                <div class="price-column">
                    <div class="cabin-class">{{ flight.flightClass }}</div>
                    <div class="price-display">
                        <div>
                            <span class="price-prefix">from</span>
                            <span class="price-amount">₹{{ flight.price }}</span>
                        </div>
                        <div *ngIf="getLowestPrice()==flight.price" class="price-tag">Lowest price</div>
                    </div>
                    <button class="select-flight-button" (click)="bookFlight(flight)">
                        Select
                    </button>
                </div>
            </div>

            <div class="flight-info">
                <div class="aircraft-info">
                    <span class="airline-logo"></span>
                    <span>{{ flight.flightNumber }}</span>
                </div>
            </div>
        </div>
    </div>
</div>